class MessageBase{addTemplate(){this.$("#message-template")||document.body.insertAdjacentHTML("beforeend",this.template())}init(){this.addTemplate(),this.events()}actionOpen(e,t){window.clearTimeout(this.timeout),this.setOptions(e,t),this.setOpen(),this.setType(),this.setAutoHide(),this.setOpenText(),this.setText(),this.autohide(),this.setOpenTextTimeout()}setOptions(e,t){!1===e&&(t.type="error"),t.type=!0===e?"success":e,this.o=Object.assign({},this.defaults(e),t)}setOpen(){this.$("ms-box").dataset.open=""}setType(){this.$("ms-box").dataset.type=this.o.type}setAutoHide(){this.o.autohide?this.$("ms-box").dataset.autohide="":delete this.$("ms-box").dataset.autohide}setOpenText(){this.o.openText&&void 0!==this.o.text?this.$("ms-box").dataset.openText="":delete this.$("ms-box").dataset.openText}setOpenTextTimeout(){this.o.openText&&this.openText()}$(e){return document.querySelector(e)}events(){this.onOpenTextClick(),this.onCloseMessageClick()}onOpenTextClick(){this.$("ms-box-icon").addEventListener("click",e=>{""!==this.$("ms-box-text").innerHTML&&this.openText()})}onCloseMessageClick(){this.$("ms-close-button").addEventListener("click",e=>{this.closeMessage()})}template(){return"\n      <ms-box>\n        <ms-box-icon></ms-box-icon>\n          <ms-box-text></ms-box-text>\n        <ms-close-button></ms-close-button>\n      </ms-box>\n    "}defaults(e){return"success"==e?{openText:!1,autohide:!0}:{openText:!0,autohide:!1}}setText(){void 0!==this.o.text?this.$("ms-box-text").innerHTML=this.o.text:this.$("ms-box-text").innerHTML=""}has(e){return void 0!==e}autohide(){this.o.autohide&&!this.has(this.$("ms-box").dataset.openText)&&(this.timeout=window.setTimeout(()=>{delete this.$("ms-box").dataset.open},1500))}openText(){window.clearTimeout(this.timeout),void 0!==this.o.text&&(this.$("ms-box").dataset.openText=""),delete this.$("ms-box").dataset.autohide}closeMessage(){delete this.$("ms-box").dataset.open,delete this.$("ms-box").dataset.openText}}class message{static open(e=null,t={}){(new MessageBase).actionOpen(e,t)}}document.addEventListener("DOMContentLoaded",()=>{if(void 0!==document.body.dataset.messageInit&&"false"===document.body.dataset.messageInit)return;(new MessageBase).init()});